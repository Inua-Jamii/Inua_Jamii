<!DOCTYPE html>
<html lang="sw">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Payment And Offer</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    height: 100vh;
    background-image: url('inua_jamii1.png'); /* Replace with your background image if needed */
    background-size: cover;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .container {
    width: 90%;
    max-width: 600px;
    padding: 20px;
    box-sizing: border-box;
    background-color: rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    color: white;
  }
  #payText {
    font-size: 14px;
    font-weight: bold;
    white-space: pre-wrap;
    margin-top: 10px;
  }
  /* Style for the pre element inside payText to match font */
  #payText pre {
    font-family: Arial, sans-serif; /* match overall font */
    font-size: 14px;
    font-weight: bold;
    white-space: pre-wrap;
    margin: 0; /* Remove default margins for consistency */
  }
  #backButton {
    margin-top: 12px;
    padding: 10px 20px;
    font-size: 12px;
    cursor: pointer;
    border: none;
    background-color: #2196F3;
    color: white;
    border-radius: 5px;
  }
  #backButton:hover {
    background-color: #ADD8E6;
  }
  /* Style for copy button as oval */
  #copyButton {
    margin-left: 10px;
    background-color: #555;
    border: none;
    padding: 6px 12px;
    border-radius: 50px; /* oval shape */
    color: white;
    cursor: pointer;
  }
  #copyButton:hover {
    background-color: #777;
  }
  /* Alert message styling */
  #copyAlert {
    position: absolute;
    background-color: #ccc;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    color: #000;
    opacity: 0;
    transition: opacity 0.3s;
    z-index: 9999;
  }
</style>
</head>
<body>

<div class="container">
  <h2 style="color: white;">Payment And Offer</h2>
  <div id="payText"></div>
  <button id="backButton">Back</button>
</div>

<!-- Alert message for copy feedback -->
<div id="copyAlert"></div>

<script>
// Function to get URL parameters
function getQueryParam(param) {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

// Retrieve name and phone_number from URL parameters
const name = getQueryParam('name') || 'No Name';
const phoneNumber = getQueryParam('phone_number') || 'No Number';

// Define the instruction texts
const instructionText1 = `Congratulations ${name} (${phoneNumber}),
You Have Been Awarded Ksh35,000

To Unlock Your Award, You're Required To Pay Ksh99 To Our Official Secretary's Number To Unlock Your Award

Immediately After Completing Your Payment, You'll Receive Your Award Within 5 Minutes 

You'll Receive Your Offer Directly To Your Mpesa Number Followed By Our Call 

Follow The Procedure Below To Make Your Payment Directly To Our Secretary Caroline:

1: Go To Mpesa

2: Lipa Na Mpesa

3: Pochi la Biashara
`;

const instructionText2 = '4: Phone Number : 0711813751';
const instructionText3 = '5: Amount : 99';

// Populate the payText div
const payTextDiv = document.getElementById('payText');
payTextDiv.innerHTML = '';

// Add instructionText1 paragraph
const para1 = document.createElement('p');
para1.textContent = instructionText1;
payTextDiv.appendChild(para1);

// Add instructionText2 with copy button
const instructionDiv2 = document.createElement('div');
instructionDiv2.style.display = 'flex';
instructionDiv2.style.alignItems = 'center';
instructionDiv2.style.marginBottom = '10px';

const spanNumber = document.createElement('span');
spanNumber.textContent = instructionText2;

const copyBtn = document.createElement('button');
copyBtn.textContent = 'Copy';
copyBtn.id = 'copyButton';

instructionDiv2.appendChild(spanNumber);
instructionDiv2.appendChild(copyBtn);
payTextDiv.appendChild(instructionDiv2);

// Add instructionText3 as preformatted text
const para3 = document.createElement('pre');
para3.textContent = instructionText3;
payTextDiv.appendChild(para3);

// Style for the pre element inside payText
const styleSheet = document.createElement("style");
styleSheet.innerText = `
  #payText pre {
    font-family: Arial, sans-serif; /* match overall font */
    font-size: 14px;
    font-weight: bold;
    white-space: pre-wrap;
    margin: 0;
  }
`;
document.head.appendChild(styleSheet);

// Alert message element
const copyAlert = document.getElementById('copyAlert');

document.getElementById('copyButton').addEventListener('click', () => {
  // Extract the last part after the colon to get the number
  const numberToCopy = instructionText2.split(':').pop().trim();
  navigator.clipboard.writeText(numberToCopy).then(() => {
    // Show alert above the button
    const rect = document.getElementById('copyButton').getBoundingClientRect();
    copyAlert.textContent = 'Copied!';
    copyAlert.style.top = (window.scrollY + rect.top - 30) + 'px';
    copyAlert.style.left = (window.scrollX + rect.left + rect.width/2 - copyAlert.offsetWidth/2) + 'px';
    copyAlert.style.opacity = 1;
    // Hide after 2 seconds
    setTimeout(() => {
      copyAlert.style.opacity = 0;
    }, 2000);
  });
});

// Back button handler
document.getElementById('backButton').addEventListener('click', () => {
  window.location.href = 'index3.html';
});
</script>

</body>
</html>
